<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="2" skipped="0" tests="4" time="46.911" timestamp="2021-07-27T16:06:51.045401" hostname="Win7-2019MNTZRK"><testcase classname="test_dir.test_login.TestLogin" name="test_login_case[data0]" time="12.788" /><testcase classname="test_dir.test_login.TestLogin" name="test_login_case[data1]" time="10.782"><failure message="NameError: name 'page' is not defined">self = &lt;test_dir.test_login.TestLogin object at 0x000000000478DD30&gt;, data = {'expected': '请输入用户名', 'pwd': 'sh987654', 'user': ''}, browser = &lt;selenium.webdriver.chrome.webdriver.WebDriver (session="435576c35b9874245f7afe08b2afe244")&gt;
base_url = 'http://newtest.elinkbuy.cn'

    @pytest.mark.parametrize(
        "data",
        get_data(base_path + "/test_dir/data/test_login_data.json")
    )
    def test_login_case(self, data, browser, base_url):
        """
        模拟登录
        步骤：
        1，输入用户名
        2.输入密码
        3.点击登录按钮
        检查点：
        *检查输入用户名和密码是否为空
        """
        self.page = LoginPage(browser)
        self.page.get(base_url + "/index.php/employform/Login/index")
        self.page.input_staff_name = data["user"]
        self.page.input_password = data["pwd"]
        self.page.login_button.click()
        sleep(2)
    
&gt;       if data['user'] == '' and page.user_error.text != '':
E       NameError: name 'page' is not defined

test_dir\test_login.py:51: NameError</failure></testcase><testcase classname="test_dir.test_login.TestLogin" name="test_login_case[data2]" time="11.211"><failure message="NameError: name 'page' is not defined">self = &lt;test_dir.test_login.TestLogin object at 0x00000000047AE130&gt;, data = {'expected': '用户名错误或用户已失效', 'pwd': 'error_password', 'user': 'error_user_name'}, browser = &lt;selenium.webdriver.chrome.webdriver.WebDriver (session="435576c35b9874245f7afe08b2afe244")&gt;
base_url = 'http://newtest.elinkbuy.cn'

    @pytest.mark.parametrize(
        "data",
        get_data(base_path + "/test_dir/data/test_login_data.json")
    )
    def test_login_case(self, data, browser, base_url):
        """
        模拟登录
        步骤：
        1，输入用户名
        2.输入密码
        3.点击登录按钮
        检查点：
        *检查输入用户名和密码是否为空
        """
        self.page = LoginPage(browser)
        self.page.get(base_url + "/index.php/employform/Login/index")
        self.page.input_staff_name = data["user"]
        self.page.input_password = data["pwd"]
        self.page.login_button.click()
        sleep(2)
    
        if data['user'] == '' and page.user_error.text != '':
            result = self.page.user_error.text
        elif data['pwd'] == '' and self.page.pwd_error.text != '':
            result = self.page.pwd_error.text
&gt;       elif data['user'] == 'error_user_name' and data['pwd'] == 'error_password' and page.all_error.text != '':
E       NameError: name 'page' is not defined

test_dir\test_login.py:55: NameError</failure></testcase><testcase classname="test_dir.test_login.TestLogin" name="test_login_case[data3]" time="10.334" /></testsuite></testsuites>