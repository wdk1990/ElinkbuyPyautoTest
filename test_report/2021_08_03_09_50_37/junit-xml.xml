<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="1" time="136.623" timestamp="2021-08-03T09:50:37.652620" hostname="Win7-2019MNTZRK"><testcase classname="test_dir.test_offer.TestOffer" name="test_offer_show_case" time="133.173"><failure message="AttributeError: 'OfferPage' object has no attribute 'current_url'">self = &lt;test_dir.test_offer.TestOffer object at 0x0000000004A8FDF0&gt;, browser = &lt;selenium.webdriver.chrome.webdriver.WebDriver (session="4528482ac5cf5920d5cbbe881dd1ae3d")&gt;, base_url = 'http://newtest.elinkbuy.cn'

    def test_offer_show_case(self, browser, base_url):
        """
        验证报价页面是否正常打开
        点击添加验证价格列表页面是否能正常打开
        """
        self.login(browser, base_url)
        page = OfferPage(browser)
        flag = self.close_layer()  # 关闭弹层
        if flag:
            self.customer_menu()  # 点击客户列表菜单
        else:
            print("弹层关闭失败")
        sleep(2)
    
        page.offer_button.click()  # 点击报价按钮
        sleep(2)
    
        customer_list_handle = page.current_window_handle  # 当前页面句柄
        all_handles = page.window_handles  # 所有页面句柄
        for handle in all_handles:
            if handle != customer_list_handle:
                page.switch_to_window(handle)
    
        assert page.get_title == '报价单-北京易联购科技有限公司'
        client_id = page.client_id.get_attribute('value')
        page.add_goods_price_btn.click()  # 点击添加按钮
        sleep(2)
    
        assert page.get_title == '价格列表-北京易联购科技有限公司'
        page.search_keyword = 'LC10M'  # 输入货品名称
        page.search_button.click()
        sleep(2)
    
        page.price_check.click()  # 点击阶梯价格查询按钮
        sleep(3)
&gt;       print(page.current_url)
E       AttributeError: 'OfferPage' object has no attribute 'current_url'

test_dir\test_offer.py:61: AttributeError</failure></testcase></testsuite></testsuites>